(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1655],{71655:function(e,r,n){"use strict";n.r(r),n.d(r,{SearchForm:function(){return eg}});var c=n(52322),s=n(16386),a=n(2760),t=n(11840),l=n(13844),p=n(2784),i=n(53476);let o=()=>{let e=(0,s.K$)();return(0,i.kJ)(r=>{let{set:n,get:c}=r;return r=>{n(s.hX,!1),r&&n(s.gA,r);let a=[["format",c(s.ln)],["type",c(s.Hh)],["license",c(s.O8)],["term",r||c(s.gA)]],t=c(s.eo),l=a.reduce((e,r)=>{let[n,c]=r;return c?e.some(e=>{let[r,s]=e;return r===n&&s===c})?e:e.filter(e=>{let[r]=e;return r!==n}).concat([[n,c]]):e.filter(e=>{let[r]=e;return r!==n})},t),p=(0,s.oq)(l,t);n(s.eo,p),e(p)}},[e])},g=(0,i.cn)({key:"isAutoCompleteOpen",default:!1}),_=(0,i.cn)({key:"autoCompleteKeywords",default:[]}),u=(0,i.cn)({key:"autoCompleteAuthors",default:[]}),m=()=>(0,i.Zl)(g),h=()=>{let e=m();return(0,p.useCallback)(()=>e(!1),[e])};n(74116),n(22769),n(11853);var d=n(83308),x=(0,d.u)({defaultClassName:"",variantClassNames:{match:{true:"_1n5grcp613",false:"_1n5grcp5vc"}},defaultVariants:{match:!1},compoundVariants:[]}),f=n(38722),j=n(96358),y=n(81325);let v=new Intl.Collator(void 0,{sensitivity:"accent"}),C=(e,r)=>(0,p.useMemo)(()=>{let n=e.split(RegExp("(".concat(r,")"),"i"));return n.map((e,n)=>({text:e,matches:n%2==1||0===v.compare(e,r),key:n})).filter(e=>{let{text:r}=e;return r.length>0})},[e,r]),N=e=>{let{data:r,term:n}=e,{t:s}=(0,y.$G)("common"),t=C(r.name,n),l=(0,j.$T)("/author"),p="".concat(l,"/").concat(r.slug);return(0,c.jsx)("li",{children:(0,c.jsxs)("a",{href:p,className:"_1n5grcp22y _1n5grcp27y _1n5grcp2cy _1n5grcp2hy _1n5grcp2x4 _1n5grcp324 _1n5grcp4f4 _1n5grcp4g4 _1n5grcp4h4 _1n5grcp4i4 _1n5grcp4js _1n5grcp4l4 _1n5grcp4mg _1n5grcp4ns _1n5grcp7r _1n5grcp4vm _1n5grcp7f _1n5grcp5vc _1n5grcp8a _1n5grcp7q9 _1n5grcp6tc",children:[(0,c.jsx)(a.qE,{size:"md",image:r.avatar}),(0,c.jsxs)("div",{className:"_1n5grcp8a _1n5grcp2um _1n5grcp2ty",children:[(0,c.jsx)("span",{className:"_1n5grcp2na _1n5grcp2qs",children:t.map(e=>(0,c.jsx)("span",{className:x({match:e.matches}),children:e.text},e.key))}),(0,c.jsxs)("div",{className:"_1n5grcp2nm",children:[(0,f.u)(r.totalResources)," ",s("assets").toLocaleLowerCase()]})]})]})})},F=e=>{let{term:r}=e,{t:n}=(0,y.$G)("common"),s=(0,i.sJ)(u);return r&&s&&s.length?(0,c.jsxs)("div",{className:"_1n5grcp22y _1n5grcp2cy _1n5grcp7s _1n5grcp8c _1n5grcp2um _1n5grcpm",children:[(0,c.jsx)("label",{className:"_1n5grcp2ia _1n5grcp28a _1n5grcp22y _1n5grcp2cy _1n5grcp2ng _1n5grcp2qs _1n5grcp78u _1n5grcp11 _1n5grcp5vl",children:n("authors")}),(0,c.jsx)("ul",{className:"s89r3ob _1n5grcph _1n5grcpk _1n5grcp2ia _1n5grcp28a _1n5grcp22y _1n5grcp2cy _1n5grcp2x4 _1n5grcp324 _1n5grcp8a _1n5grcpp _1n5grcp2ua _1n5grcpm",children:s.map(e=>(0,c.jsx)(N,{data:e,term:r},e.id))})]}):null},O=e=>{let{keyword:r,term:n,onConfirm:s}=e,a=C(r,n),t=(0,p.useCallback)(()=>s(r),[r,s]);return(0,c.jsx)("li",{onClick:t,className:"_1n5grcp2ia _1n5grcp28a _1n5grcp22s _1n5grcp2cs _1n5grcp2na _1n5grcp2qs _1n5grcp7q9 _1n5grcp6tc _1n5grcp7f _1n5grcp673",children:a.map(e=>(0,c.jsx)("span",{className:x({match:e.matches}),children:e.text},e.key))})},k=e=>{let{onConfirm:r,term:n}=e,s=(0,i.sJ)(_);return n&&s&&s.length?(0,c.jsx)("ul",{className:"_1n5grcp22y _1n5grcp2cy _1n5grcp8a _1n5grcp2um _1n5grcpm",children:s.map(e=>(0,c.jsx)(O,{keyword:e,term:n,onConfirm:r},e))}):null},I=["photo","vector","psd","ai"],b=e=>null===e||I.includes(e),w=e=>{let{onConfirm:r,term:n}=e,a=(0,i.sJ)(s.Hh),t=b(a);return(0,c.jsxs)("div",{className:"s89r3o1 _1n5grcp4nm _1n5grcp4ma _1n5grcp83c _1n5grcp7n _1n5grcp8a _1n5grcp2um",children:[(0,c.jsx)(k,{term:n,onConfirm:r}),t&&(0,c.jsx)(F,{term:n})]})},E=async(e,r)=>{try{let n=await fetch("/api/autocomplete?term=".concat(e),{signal:r});if(!n.ok)throw Error("Autocomplete error: ".concat(n.statusText));let c=await n.json();return c}catch(e){return e}},R=()=>(0,i.kJ)(e=>{let{set:r}=e;return e=>{let{keywords:n,authors:c}=e;r(_,n),r(u,c)}},[]),J=()=>{let e=R(),r=m(),n=(0,i.sJ)(s.gA),c=(function(e,r){let n=(0,p.useRef)(),[c,s]=(0,p.useState)(e);return(0,p.useEffect)(()=>(n.current=setTimeout(()=>{s(e)},r),()=>{clearTimeout(n.current)}),[e,r]),c})(n,500).trim(),a=(0,i.sJ)(s.hX),t=a&&c.length>=3,l=n===c;return(0,p.useEffect)(()=>{let n=new AbortController,s=n.signal,a=async()=>{try{let n=await E(c,s);if(s.aborted)return;e(n),r(!0)}catch(e){r(!1)}};if(!t){r(!1);return}if(l)return a(),()=>{n.abort()}},[c,r,l,t,e]),c},T=e=>{let{children:r}=e,n=(0,i.sJ)(g),s=(0,t.nD)(),_=h(),u=o(),m=(0,p.useCallback)(e=>{u(e),_()},[_,u]),d=J();return(0,c.jsxs)(l.fC,{open:n,children:[(0,c.jsx)(l.ee,{asChild:!0,children:(0,c.jsx)(a.xu,{width:"full",children:r})}),(0,c.jsx)(l.h_,{container:s.current,children:(0,c.jsx)(l.VY,{align:"start",side:"bottom",sideOffset:-2,onOpenAutoFocus:e=>{e.preventDefault()},onInteractOutside:_,onEscapeKeyDown:_,children:(0,c.jsx)(w,{onConfirm:m,term:d})})})]})};n(27617);var G=(0,d.u)({defaultClassName:"_1h8m6m07 _1n5grcp4f4 _1n5grcp4g4 _1n5grcp4h4 _1n5grcp4i4 _1n5grcp4ja _1n5grcp4km _1n5grcp4ly _1n5grcp4na _1n5grcp8a _1n5grcpn _1n5grcp2ss",variantClassNames:{heroMode:{true:"_1h8m6m09 _1n5grcp83c _1n5grcp58u",false:"_1n5grcp7q3 _1n5grcp50a"}},defaultVariants:{heroMode:!1},compoundVariants:[]}),L=(0,d.u)({defaultClassName:"_1h8m6m0h _1n5grcp4ja _1n5grcp4km _1n5grcp4ly _1n5grcp4na _1n5grcp8a _1n5grcp2tg _1n5grcp2ss _1n5grcp6n3 _1n5grcp723",variantClassNames:{heroMode:{true:"_1h8m6m0j _1n5grcp20m",false:"_1h8m6m0l _1n5grcp20a"}},defaultVariants:{},compoundVariants:[]});let S=e=>{let{triggerContent:r,filtersContent:n}=e,[s,t]=(0,p.useState)(!1);return(0,c.jsxs)(l.fC,{open:s,onOpenChange:t,children:[(0,c.jsxs)(l.xz,{className:"_1h8m6m02 _1n5grcp3ka _1n5grcp8a _1n5grcp2ss _1n5grcp2ty _1n5grcp673 _1n5grcp6cr",children:[r,(0,c.jsx)(a.JO,{name:s?"CaretUp":"CaretDown",size:"sm",color:"grayHoki"})]}),(0,c.jsx)(l.h_,{children:(0,c.jsxs)(l.VY,{align:"start",sideOffset:5,style:{zIndex:"10"},children:[(0,c.jsx)(l.Eh,{color:"white"}),(0,c.jsx)("div",{className:"_1h8m6m05 _1n5grcph _1n5grcpk _1n5grcp4jm _1n5grcp4ky _1n5grcp4ma _1n5grcp4nm _1n5grcp83c _1n5grcp7n",children:n})]})})]})},V={search:"Resources",collections:"Folder"},A={vector:"Vector",photo:"Photo",ai:"AiFilter",video:"VideoLinear",psd:"Psd",icon:"Icons",images:"Photo"};var z=(0,d.u)({defaultClassName:"_1n5grcp2ia _1n5grcp27y _1n5grcp22s _1n5grcp2cs _1n5grcp2ng _1n5grcp6cl _1n5grcp8a _1n5grcp3cy _1n5grcp3g4 _1n5grcp2ss",variantClassNames:{active:{true:"_1n5grcp7ic",false:"_1n5grcp6tc _1n5grcp7kr"}},defaultVariants:{active:!1},compoundVariants:[]}),$=(0,d.u)({defaultClassName:"_1n5grcp8a _1n5grcp2ss _1n5grcpm",variantClassNames:{filter:{premium:"_1n5grcp6su",normal:"_1n5grcp2x4 _1n5grcp324"}},defaultVariants:{filter:"normal"},compoundVariants:[]}),H=(0,d.u)({defaultClassName:"_1n5grcp4f4 _1n5grcp4g4 _1n5grcp4h4 _1n5grcp4i4 _1n5grcp4ja _1n5grcp4km _1n5grcp4ly _1n5grcp4na _1n5grcp38a _1n5grcp3fm _1n5grcp1gy _1n5grcp8a _1n5grcp2ss _1n5grcp2tg",variantClassNames:{active:{true:"_1n5grcp4qy _1n5grcp4sb _1n5grcp6z3 _1n5grcp729",false:"_1n5grcp50a _1n5grcp50b _1n5grcp6tc _1n5grcp7kr"}},defaultVariants:{active:!1},compoundVariants:[]});let q=e=>{let{isActive:r,...n}=e;return(0,c.jsx)("button",{...n,className:z({active:r})})},M=(0,p.memo)(e=>{let{icon:r,name:n,isActive:s,isNew:t,...l}=e,{t:p}=(0,y.$G)("common");return(0,c.jsxs)(q,{isActive:s,...l,children:[(0,c.jsxs)(a.xu,{as:"span",className:$(),children:[r&&(0,c.jsx)(a.JO,{name:r,size:"base",marginRight:"5",color:"grayHoki"})," ",(0,c.jsx)(a.xu,{as:"span",textOverflow:"ellipsis",whiteSpace:"nowrap",children:p(n)}),t&&(0,c.jsx)(a.xu,{as:"span",color:"greenFlaticon",textTransform:"capitalize",children:p("common:new")})]}),(0,c.jsx)(a.xu,{as:"span",display:"flex",marginLeft:"10",width:"15",justifyContent:"center",alignItems:"center",children:s&&(0,c.jsx)(a.JO,{name:"Check",color:"blueFreepik",size:"xs"})})]})});M.displayName="DefaultFilter";let D=e=>{let{hasBorder:r=!0,children:n}=e;return(0,c.jsx)(a.xu,{role:"group",borderTop:r?"xs":void 0,borderColor:r?"grayGaysir":void 0,children:n})},K=Object.values(s.FILTERS_CONFIG.format.values).filter(e=>e!==s.FILTERS_CONFIG.format.values.families).map(e=>({value:e,label:(0,s.nO)("format",e)})),X=()=>{let[e,r]=(0,i.FV)(s.ln),n=B();return(0,c.jsx)(D,{hasBorder:!1,children:K.map(a=>{let{value:t,label:l}=a;return(0,c.jsx)(M,{name:l,icon:V[t],onClick:()=>r(t),isActive:t===e,disabled:t===s.FILTERS_CONFIG.format.values.collections&&n},t)})})},B=()=>{let e=(0,i.sJ)(s.Hh);return(0,p.useMemo)(()=>e===s.FILTERS_CONFIG.type.values.video||e===s.FILTERS_CONFIG.type.values.ai||e===s.FILTERS_CONFIG.type.values.icon,[e])},Z=e=>{let{isActive:r}=e;return(0,c.jsx)(a.xu,{className:H({active:r}),children:(0,c.jsx)(a.JO,{name:"Check",color:"white"})})},P=()=>{let{t:e}=(0,y.$G)("common"),[r,n]=(0,i.FV)(s.O8),t=U(),l=(0,p.useCallback)(e=>{n(r=>r===e?"":e)},[n]);return(0,c.jsxs)(D,{children:[(0,c.jsxs)(q,{onClick:()=>l(s.FILTERS_CONFIG.license.values.free),disabled:t,children:[(0,c.jsx)(Z,{isActive:r===s.FILTERS_CONFIG.license.values.free}),(0,c.jsx)(a.xu,{className:$(),children:(0,c.jsx)(a.xu,{as:"span",textOverflow:"ellipsis",whiteSpace:"nowrap",children:e((0,s.nO)("license","free"))})})]}),(0,c.jsxs)(q,{onClick:()=>l(s.FILTERS_CONFIG.license.values.premium),disabled:t,children:[(0,c.jsx)(Z,{isActive:r===s.FILTERS_CONFIG.license.values.premium}),(0,c.jsxs)(a.xu,{className:$({filter:"premium"}),children:[(0,c.jsx)(a.LR,{name:"Crown",size:"sm",marginRight:"5"})," ",e((0,s.nO)("license","premium"))]})]})]})},U=()=>{let e=(0,i.sJ)(s.Hh);return e===s.FILTERS_CONFIG.type.values.icon},Y=()=>{let{t:e}=(0,y.$G)("common"),r=(0,i.sJ)(s.ln),n=(0,i.sJ)(s.Hh),t=(0,i.sJ)(s.O8),l=r===s.FILTERS_CONFIG.format.values.collections?"Folder":"Resources",p=r?(0,s.nO)("format",r):null,o=n?(0,s.nO)("type",n):null,g=t?(0,s.nO)("license",t):null,_=[p,o,g].filter(Boolean).map(r=>e(r)).join(", ");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.JO,{name:l,marginRight:"10",__width:14}),(0,c.jsx)("span",{className:"_1n5grcp2ng _1n5grcpx _1n5grcpm _1n5grcp2ry _1n5grcp7s _1n5grcp80",children:_})]})};var Q=n(25893),W=n(93950);let ee=Object.values(s.FILTERS_CONFIG.type.values).map(e=>({value:e,label:(0,s.nO)("type",e)})),er=()=>{let e=(0,j.ZK)(),r=(0,Q.b1)(),n=(0,i.sJ)(s.Hh),a=(0,i.sJ)(s.V$),t=(0,i.sJ)(s.TU),l=(0,W.lJ)(),p=(0,i.kJ)(e=>{let{set:r}=e;return e=>{r(s.Hh,e),e&&l(e);let n=e===s.FILTERS_CONFIG.type.values.icon;(e===s.FILTERS_CONFIG.type.values.video||n)&&r(s.ln,s.FILTERS_CONFIG.format.values.search),n&&r(s.O8,null)}},[l]);return(0,c.jsx)(D,{children:ee.filter(r=>{let{value:n}=r;return"ai"!==n||"en"===e}).map(e=>{let{value:l,label:i}=e;return(0,c.jsx)(M,{name:"".concat(i),icon:A[l],onClick:()=>p(l===n?null:l),isActive:l===n,disabled:l===s.FILTERS_CONFIG.type.values.video&&a||l===s.FILTERS_CONFIG.type.values.ai&&t,isNew:r(l)},l)})})},en=()=>(0,c.jsx)(S,{filtersContent:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(X,{}),(0,c.jsx)(er,{}),(0,c.jsx)(P,{})]}),triggerContent:(0,c.jsx)(Y,{})}),ec=e=>{let{heroMode:r,dropdownContent:n,inputContent:s,buttonContent:t}=e;return(0,c.jsx)(a.xu,{as:"form",display:"flex",flex:"auto",alignItems:"stretch",width:"full",children:(0,c.jsxs)("div",{className:G({heroMode:r}),children:[(0,c.jsx)("div",{className:"_1n5grcp3ka",children:n}),(0,c.jsx)("div",{role:"presentation",className:"_1n5grcp4g4 _1n5grcp3fy _1n5grcp50a"}),s,t]})})};var es=n(75522);let ea=(0,p.memo)(e=>{let{heroMode:r}=e,{t:n}=(0,y.$G)("common"),s=o(),t=(0,a.ac)("mdMax");return(0,c.jsx)(es.pI,{popupOrigin:"search",children:e=>(0,c.jsxs)("button",{type:"submit",onClick:r=>{r.preventDefault(),s(),e()},className:L({heroMode:r}),children:[(0,c.jsx)(a.TX,{children:n("search")}),(0,c.jsx)(a.JO,{name:"Search",size:t?"base":"lg"})]})})});var et=n(2602),el=n(63291);let ep=()=>{let{t:e}=(0,y.$G)("common"),r=(0,i.sJ)(s.On),n=(0,i.rb)(s.gA);return r?null:(0,c.jsxs)("button",{type:"button",className:"_1n5grcp22s _1n5grcp27s _1n5grcp2cs _1n5grcp2hs _1n5grcp4ja _1n5grcp4km _1n5grcp4ly _1n5grcp4na _1n5grcp6tc _1n5grcp613 _1n5grcp1gs",onClick:n,children:[(0,c.jsx)(a.TX,{children:e("clear")}),(0,c.jsx)(a.JO,{name:"Cross",size:"lg",display:"block"})]})},ei=()=>{let{t:e}=(0,y.$G)("common"),r=(0,p.useRef)(null),[n,a]=(0,i.FV)(s.gA),t=(0,i.Zl)(s.BH),l=(0,i.Zl)(s.hX),g=(0,i.sJ)(s.Hh),_=(0,i.sJ)(s.ln),u="ai"===g||"images"===g?g:"".concat(g,"s").toLocaleLowerCase(),m=o();return(0,el.k)(r),(0,el.$)(r),(0,c.jsx)(es.pI,{popupOrigin:"search",children:p=>(0,c.jsx)("input",{ref:r,name:"term",className:"_1h8m6m0f _1n5grcp22y _1n5grcp27y _1n5grcp2cy _1n5grcp2hy _1n5grcp6tc _1n5grcp3cy _1n5grcp6cl",type:"text",onFocus:()=>t(!0),onBlur:()=>t(!1),value:n,onChange:e=>{a(e.target.value),l(!0)},onKeyDown:e=>{if("Escape"===e.key)return l(!1);"Enter"===e.key&&(e.preventDefault(),m(),Math.random()<=et.yl&&p())},placeholder:g?"".concat(e("searchFor",{type:e(u)})):_===s.FILTERS_VALUES.format.search?e("searchAllAssets"):e("searchAllCollections"),autoComplete:"off","data-cy":"search-".concat(null!=g?g:"pageSearch")})})},eo=()=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ei,{}),(0,c.jsx)(ep,{})]}),eg=e=>{let{heroMode:r=!1}=e;return(0,s.ze)(),(0,c.jsx)(T,{children:(0,c.jsx)(ec,{heroMode:r,dropdownContent:(0,c.jsx)(en,{}),inputContent:(0,c.jsx)(eo,{}),buttonContent:(0,c.jsx)(ea,{heroMode:r})},"layout")})}},11853:function(){},27617:function(){}}]);